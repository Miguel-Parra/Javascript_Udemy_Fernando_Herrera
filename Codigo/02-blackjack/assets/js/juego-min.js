const miModulo=(()=>{"use strict";let e=[],t=[];const o=["C","D","H","S"],n=["A","J","Q","K"],r=document.querySelector("#btn_pedir"),l=document.querySelector("#btn_detener"),s=document.querySelector("#btn_nuevo"),a=document.querySelectorAll(".divCartas"),d=document.querySelectorAll("small"),c=(o=2)=>{l.disabled=!0,r.disabled=!1,t=[],e=i();for(let e=0;e<o;e++)t.push(0);d.forEach(e=>e.innerText=0),a.forEach(e=>e.innerHTML=""),console.clear()},i=()=>{e=[];for(let t=2;t<=10;t++)for(let n of o)e.push(t+n);for(let t of o)for(let o of n)e.push(o+t);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},m=(e,o)=>(t[e]=t[e]+(e=>{const t=e.substring(0,e.length-1);return console.log(t),isNaN(t)?"A"===t?11:10:1*t})(o),d[e].innerText=t[e],t[e]),h=(e,t)=>{const o=document.createElement("img");o.src=`assets/cartas/${e}.png`,o.classList.add("carta"),a[t].append(o)},b=e=>{let o=0;do{const e=u();o=m(t.length-1,e),h(e,t.length-1)}while(o<e&&e<=21);(()=>{const[e,o]=t;setTimeout(()=>{o===e?alert("Empate"):e>21?alert("Perdiste, computadora gana"):o>21?alert("Ganaste"):alert("Perdiste, computadora gana")},100)})()};return r.addEventListener("click",()=>{l.disabled=!1;const e=u(),t=m(0,e);h(e,0),t>21?(console.log("Lo siento mucho, perdiste"),r.disabled=!0,l.disabled=!0,b(t)):21===t&&(console.warn("21, Genial!"),r.disabled=!0,l.disabled=!0,b(t))}),l.addEventListener("click",()=>{r.disabled=!0,l.disabled=!0,b(t[0])}),s.addEventListener("click",()=>{c()}),{nuevoJuego:c}})();